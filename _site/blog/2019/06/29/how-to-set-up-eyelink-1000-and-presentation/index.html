<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="hsl(35, 36%, 95%)">
  <link rel="shortcut icon" type="image/png" href="/assets/favicon/favicon.png">
  <title>How to set up Eyelink 1000 and Presentation</title>

  
  <meta name="description" content="
  
    How to set up Eyelink 1000 and Presentation
    
    June 29, 2019 in 
    
      
        
      
    
  



  
    
      
      This is ..." />

  
  <meta name="keywords" content="" />

  <link rel="canonical" href="http://localhost:4000/blog/2019/06/29/how-to-set-up-eyelink-1000-and-presentation/">
  <link rel="alternate" type="application/rss+xml" title="Suhas Vijayakumar" href="http://localhost:4000/feed.xml" />
  <span itemprop='author'><meta name="author" content="Suhas Vijayakumar"><span itemprop='author'></span>

  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/PT+Serif:400,400i,700,700i:f">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css">


  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },

      TeX: {
        equationNumbers: { autoNumber: "AMS" }
      },

      CommonHTML: {
        scale: 90
      }
    });
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', '', 'auto');
    ga('send', 'pageview');
  </script>

  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://use.fontawesome.com/4bee85bf94.js"></script>

  
</head>

<body>

  <div class="container main">
    <div class="row navbar">
    <div class="text-left">
      | <a class="fa fa-home" href="/"></a>
      <a href="/">about</a>

      | 
      <a href="/academia/"  >
      academia
      </a> |
      
      <a href="/scicomm/"  >
      scicomm
      </a> |
      
      <a href="/blog/"  >
      blog
      </a> |
      
      <a href="/courses/"  >
      courses
      </a> |
      
    </div>
    <div class="text-right">

      
      <a class="fa fa-copy" href="https://scholar.google.com/citations?user=w4ZMUwEAAAAJ&hl=en" title="Google scholar"></a>
      

      
      <a class="fa fa-github" href="https://github.com/suhasvijayakumar" title="GitHub"></a>
      

      
      <a class="fa fa-twitter" href="https://twitter.com/neuroacademic" title="Twitter"></a>
      

      
      <a class="fa fa-linkedin" href="https://id.linkedin.com/in/suhas-vijayakumar" title="LinkedIn"></a>
      

      
      <a class="fa fa-inbox" href="mailto:vijayakumar.suhas@gmail.com" title="Email"></a>
      

      
      <a class="fa fa-instagram" href="https://www.instagram.com/academic_story" title="Instagram"></a>
      


    </div>
</div>

    <div class="row justify-content-center">
  <header class="col-md-12 text-center mt-3">
    <h1 itemprop="name" class="pl-3 pr-3">How to set up Eyelink 1000 and Presentation</h1>
    
    <p>June 29, 2019 in </p>
    <div class="small-ornament pt-3 pb-3">
      <svg viewBox="0 100 290 220">
        <path d="M280.3 245.4Q280.3 263.3 261.8 272 247.9 278.7 227.8 278.7 235.3 269.9 235.3 256.5 235.3 231.9 214.5 217.1 196 204 170.3 204 143.6 204 108.8 221.1L119 231.5Q154.4 267.9 168.3 267.9 181.1 267.9 181.1 255.9 181.1 248.3 173.5 243.6 167.1 239.3 159 239.3 154.7 239.3 148.6 241.5 158.6 220.1 174 220.1 184.5 220.1 191.9 228.1 199.3 236.1 199.3 246.7 199.3 265.5 184.4 277.9 170.3 289.4 151 289.4 118.7 289.4 81.4 251L72.1 241.5Q53.6 249.5 39.4 249.5 26.4 249.5 17.2 241 7.9 232.5 7.9 219.5 7.9 203.9 19.1 193.9 30 184.5 45.8 184.5 70 184.5 98.3 211.6 111.5 202.2 127.5 185.5L134.6 178.2Q174.5 136.7 204.9 136.7 231.5 136.7 231.5 155.3 231.5 173.5 204.3 177.3 206.4 172.8 206.4 170.2 206.4 159.3 193.4 159.3 175.2 159.3 144.3 189L137.1 195.9Q165.2 185.8 191.3 185.8 221.8 185.8 248.3 200.1 280.3 217.3 280.3 245.4ZM61.2 230.5Q44.6 215.3 37.3 215.3 28 215.3 28 223.5 28 234.4 42.8 234.4 51.2 234.4 61.2 230.5z"/>
      </svg>
    </div>
  </header>
</div>

<div class="row justify-content-center">
  <div class="col-md-8">
    <article lang="en">
      
      <p>This is a quick how-to post for setting up an experiment with Eyelink 1000 eye tracker and Presentation software.</p>

<p><em>Special thanks to <a href="https://www.mpi.nl/people/heuvel-maarten-van-den">Maarten van den Heuvel</a>, at the Max Planck Institute, Nijmegen, who kindly sent me the scripts and the help guide which, will be available in a folder that you’ll download in a minute.</em></p>

<hr />

<p>I recently collected data for an experiment in the scanner that used Eyelink 1000 eye tracker. I used Presentation software to present my stimulus and record participant responses. If you are planning to do something similar, you’ve come to the right pocket of the internet. First, download and extract a folder that has a help guide, and the necessary subroutines for Presentation <a href="https://my.pcloud.com/publink/show?code=XZbCk37ZsvRT8ivkqhkrdvUKpGazJHGvynCk">from here</a>.</p>

<p><strong>Note</strong>: I work at the Donders Institute, so these notes are primarily written to run experiments here. If you’re somewhere else, I hope this will still be of some use to you.</p>

<h2 id="what-do-i-need">What do I need?</h2>
<ul>
  <li><strong>This folder</strong> - <a href="https://my.pcloud.com/publink/show?code=XZbCk37ZsvRT8ivkqhkrdvUKpGazJHGvynCk">download link</a> <br /> It’s the same folder from above. Just reminding you to download it.</li>
  <li>
    <p><strong>PresLink</strong>
 <br /> This is an extension provided by SR Research’s team, and is already setup at DCCN’s MRI lab. If you’re not at Donders, take a look at “Before you begin” section in the help guide (you’ll find it in the folder that you’ve downloaded under the name “<strong>PresLink_help_file.pdf</strong>”).</p>
  </li>
  <li>
    <p><strong>Knowledge of the port numbers linking your stimulus PC and Eyelink PC</strong>
 <br /> Your lab manager should have all the answers.</p>
  </li>
  <li><strong>Some subroutines that interact with Eyelink</strong>
 <br /> You’ll find them in the folder that you just downloaded.</li>
</ul>

<h2 id="so-how-does-this-work">So, how does this work?</h2>
<p>For a simple experimental, which does not include manipulating stimulus based on gaze direction, or eye coordinates, or any data from Eyelink PC, the setup is quite straightforward. You only need to:</p>
<ul>
  <li>start recording eye tracker data</li>
  <li>present stimulus and run experiment</li>
  <li>stop recording eye tracker data</li>
</ul>

<p>You’ll have to do the following:</p>

<ol>
  <li>
    <p><strong>Add PresLink to Presentation.</strong>
<br /> This is already done at DCCN’s MRI stimulus PC. But open your Presentation experiment, and check <em>Tools &gt; Extension Manager</em>, which should have a registered PreLink extension.
<img src="/assets/blog/preslink/01_preslink_extension.png" class="image-responsive" /></p>
  </li>
  <li>
    <p><strong>Add output port to ensure Eyelink and stimulus PC can “talk”.</strong>
<br /> At the DCCN, output port that can send triggers from your stimulus PC to your Eyelink PC is COM port 2. Here are the settings that I used -
<img src="/assets/blog/preslink/02a_output_trigger_setup.png" class="image-responsive" />
<img src="/assets/blog/preslink/02b_output_trigger_properties.png" class="image-responsive" /></p>
  </li>
  <li>
    <p><strong>Add eye tracker subroutines to your pcl file.</strong>
<br /> This is essentially one line in your pcl file. I called the file “proj_caudal_PFC_presentation_eyelink_SUBS.pcl” for my project. Feel free to call it however you see fit. A copy of the file is in the folder under the name “<strong>EyelinkSUBS.pcl</strong>”: <br /> <code class="language-plaintext highlighter-rouge">include "proj_caudal_PFC_presentation_eyelink_SUBS.pcl";</code></p>
  </li>
  <li>
    <p><strong>Define your output filename and initialise PresLink</strong> <br /> <code class="language-plaintext highlighter-rouge">Note:</code> There is an 8-character limitation on your EDF (that’s the file extension Eyelink uses) filename. I used “sub_1”, “sub_19” and so on. One line each.
<img src="/assets/blog/preslink/03_eyelink_start.png" class="image-responsive" /></p>
  </li>
  <li><strong>Calibration and other details</strong>
    <ul>
      <li>I had issues getting Eyelink version automatically. So, I hardcoded it in the subroutines file.
<img src="/assets/blog/preslink/04_eye_tracker_version.png" class="image-responsive" /></li>
      <li>I also experienced issues with getting screen sizes automatically.
<img src="/assets/blog/preslink/05_screen_HW.png" class="image-responsive" /></li>
      <li>Did calibration using an external tool available on stimulus PC.</li>
    </ul>
  </li>
  <li>
    <p><strong>Add lines to send output trigger for important events</strong> (like beginning of a trail). <br /> <code class="language-plaintext highlighter-rouge">Note:</code> At the DCCN, every button press (at least of the first two buttons, I’ve been told) is automatically sent to the eye tracker PC. So, choose a number that’s more than 2, when sending your trial-relevant trigger. <br /> <br /> So, start by defining your port:
<br /> <code class="language-plaintext highlighter-rouge">output_port eye_tracker_port = output_port_manager.get_port(1);</code> <br /> I only used 1 output port. If you’re using multiple ports, enter the  correct number in the paranthesis. <br /> <br /> Then, add this line to send the trigger: <br /> <code class="language-plaintext highlighter-rouge">output.send_code(4);</code> <br /> Here, 4 was my code to denote the begining of a trial.</p>
  </li>
  <li><strong>Stop recording</strong> - this will also export your eye tracking data to your desired location (default: logfile directory).
<img src="/assets/blog/preslink/06_eyelink_stop.png" class="image-responsive" /></li>
</ol>

<p>And that’s about it! You should have a working eye-tracking setup with Eyelink 1000 and Presentation now. If anything is unclear, feel free to <a href="https://twitter.com/intent/tweet?text=Hi%20%40neuroacademic%2C%20Coffee?">send me a tweet</a> or <a href="mailto:vijayakumar.suhas@gmail.com">an email</a>.</p>

    </article>
  </div>
</div>

  </div>

  <footer class="mb-2">
  <div class="container">
    <div class="row biography">
      <div class="col-sm-4">
        <h2>who am i</h2>
        <p>I'm currently a post-doc at the <a target='_blank' href='https://projects.iq.harvard.edu/evolutionaryneurosciencelab/home'>Evolutionary nueorscience lab</a> of Harvard University. Here are my <a target='_blank' href='https://repository.ubn.ru.nl/bitstream/handle/2066/226799/226799.pdf?sequence=1'>PhD Thesis</a> and my <a href='/assets/resume.pdf'>Résumé</a>. Or go to <a href='/phd_defense'>PhD defense</a> page to know more about that and see my thesis cover page.</p>
      </div>
      <div class="col-sm-4">
        <h2>what is this</h2>
        <p>This? <br> This is my home on the internet. Views expressed in this corner of the internet are my own, and do not necessarily reflect the views or opinions of anyone else.</p>
      </div>
      <div class="col-sm-4">
        <h2>Thanks to</h2>
        <p>This site is based on <a target='_blank' href='https://github.com/hugoferreira/papyrus-theme'>Papyrus theme</a>, by Prof. Dr. Hugo Sereno Ferreira, and his blog. You can find his blog here <a target='_blank' href='http://hugosereno.eu/'>http://hugosereno.eu/</a>.</p>
      </div>
    </div>
    
    <div class="row copyright text-center">
      <div class="col-sm-12">© 2021 by Suhas Vijayakumar.<br>Content available under <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>Creative Commons (BY-NC-SA)</a> unless otherwise noted.<br>This site is hosted at <a href='https://pages.github.com/'>Github Pages</a> and created with <a href='http://jekyllrb.com/'>Jekyll</a>.</div>
    </div>
    
  </div>
</footer>


</body>
