<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="hsl(35, 36%, 95%)">
  <link rel="shortcut icon" type="image/png" href="/assets/favicon/favicon.png">
  <title>How to add a new atlas to FSLeyes</title>

  
  <meta name="description" content="
  
    How to add a new atlas to FSLeyes
    
    November 6, 2021 
      
        &nbsp;academia, &nbsp; 
      
        &nbsp;how-to
      
    ..." />

  
  <meta name="keywords" content="" />

  <link rel="canonical" href="http://localhost:4000/blog/2021/11/06/how-to-add-a-new-atlas-to-fsleyes/">
  <link rel="alternate" type="application/rss+xml" title="Suhas Vijayakumar" href="http://localhost:4000/feed.xml" />
  <span itemprop='author'><meta name="author" content="Suhas Vijayakumar"><span itemprop='author'></span>

  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/PT+Serif:400,400i,700,700i:f">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/main.css">


  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },

      TeX: {
        equationNumbers: { autoNumber: "AMS" }
      },

      CommonHTML: {
        scale: 90
      }
    });
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', '', 'auto');
    ga('send', 'pageview');
  </script>

  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://use.fontawesome.com/4bee85bf94.js"></script>

  
</head>

<body>

  <div class="container main">
    <div class="row navbar">
    <div class="text-left">
      | <a class="fa fa-home" href="/"></a>
      <a href="/">about</a>

      | 
      <a href="/academia/"  >
      academia
      </a> |
      
      <a href="/scicomm/"  >
      scicomm
      </a> |
      
      <a href="/blog/"  >
      blog
      </a> |
      
      <a href="/courses/"  >
      courses
      </a> |
      
    </div>
    <div class="text-right">

      
      <a class="fa fa-copy" href="https://scholar.google.com/citations?user=w4ZMUwEAAAAJ&hl=en" title="Google scholar"></a>
      

      
      <a class="fa fa-github" href="https://github.com/suhasvijayakumar" title="GitHub"></a>
      

      
      <a class="fa fa-twitter" href="https://twitter.com/neuroacademic" title="Twitter"></a>
      

      
      <a class="fa fa-linkedin" href="https://id.linkedin.com/in/suhas-vijayakumar" title="LinkedIn"></a>
      

      
      <a class="fa fa-inbox" href="mailto:vijayakumar.suhas@gmail.com" title="Email"></a>
      

      
      <a class="fa fa-instagram" href="https://www.instagram.com/academic_story" title="Instagram"></a>
      


    </div>
</div>

    <div class="row justify-content-center">
  <header class="col-md-12 text-center mt-3">
    <h1 itemprop="name" class="pl-3 pr-3">How to add a new atlas to FSLeyes</h1>
    
    <p>November 6, 2021 <br>
      
        <a class="fa fa-tags" style="color:lightgrey"></a>&nbsp;<a href="/blog/tags/#academia">academia</a>, &nbsp; 
      
        <a class="fa fa-tags" style="color:lightgrey"></a>&nbsp;<a href="/blog/tags/#how-to">how-to</a>
      
    </p>
    <div class="small-ornament pt-3 pb-3">
      <svg viewBox="0 100 290 220">
        <path d="M280.3 245.4Q280.3 263.3 261.8 272 247.9 278.7 227.8 278.7 235.3 269.9 235.3 256.5 235.3 231.9 214.5 217.1 196 204 170.3 204 143.6 204 108.8 221.1L119 231.5Q154.4 267.9 168.3 267.9 181.1 267.9 181.1 255.9 181.1 248.3 173.5 243.6 167.1 239.3 159 239.3 154.7 239.3 148.6 241.5 158.6 220.1 174 220.1 184.5 220.1 191.9 228.1 199.3 236.1 199.3 246.7 199.3 265.5 184.4 277.9 170.3 289.4 151 289.4 118.7 289.4 81.4 251L72.1 241.5Q53.6 249.5 39.4 249.5 26.4 249.5 17.2 241 7.9 232.5 7.9 219.5 7.9 203.9 19.1 193.9 30 184.5 45.8 184.5 70 184.5 98.3 211.6 111.5 202.2 127.5 185.5L134.6 178.2Q174.5 136.7 204.9 136.7 231.5 136.7 231.5 155.3 231.5 173.5 204.3 177.3 206.4 172.8 206.4 170.2 206.4 159.3 193.4 159.3 175.2 159.3 144.3 189L137.1 195.9Q165.2 185.8 191.3 185.8 221.8 185.8 248.3 200.1 280.3 217.3 280.3 245.4ZM61.2 230.5Q44.6 215.3 37.3 215.3 28 215.3 28 223.5 28 234.4 42.8 234.4 51.2 234.4 61.2 230.5z"/>
      </svg>
    </div>
  </header>
</div>

<div class="row justify-content-center">
  <div class="col-md-8">
    <article lang="en">
      
      <p>The neuroimaging data viewer software <a href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FSLeyes" target="_blank">FSLeyes</a> is equipped with a few atlases – Harvard-Oxford Cortical Structural Atlas, Juelich Histological Atlas, MNI Structural Atlas, and the likes. It also allows its users to load and use custom atlases. Here’s a brief how-to post about how to add a new atlas to FSLeyes.</p>

<p>We will use the Johnson et al., 2019 Canine Brain atlas as an example. If you would like to know more about the atlas and how it was made, please refer to the original open access publication "Stereotactic Cortical Atlas of the Domestic Canine Brain" at <a href="https://doi.org/10.1038/s41598-020-61665-0" target="_blank">this link</a>.</p>

<h2 id="steps-to-add-a-new-atlas-to-fsleyes">Steps to add a new atlas to FSLeyes</h2>

<h3 id="step-1">step 1</h3>
<p>Download the Canine brain atlas from <a href="https://ecommons.cornell.edu/handle/1813/67018.2" target="_blank">this link</a>.</p>

<h3 id="step-2">step 2</h3>
<p>Assuming you have downloaded it to the default Downloads folder, path to your Canine atlas will be <code class="language-plaintext highlighter-rouge">~/Downloads/Johnson_etal_2019_Canine_Atlas_v2</code>. Notice that the folder is equipped with a few files. The ones relevant for us are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Canine-labels-update.xml</code>: the file that FSLeyes reads</li>
  <li><code class="language-plaintext highlighter-rouge">Canine_population_template.nii.gz</code>: a template brain to visualise this 		atlas</li>
  <li><code class="language-plaintext highlighter-rouge">whole_atlas_cortical_subcortical.nii.gz</code>: allows you to visualise various cortical and subcortical regions</li>
</ul>

<h3 id="step-3">step 3</h3>
<p>Open FSLeyes. If you are using the default layout, the screen should look like this</p>

<p><img src="/assets/blog/fsleyes_add_atlas/01_fsleyes_default.png" class="image-responsive" /></p>

<h3 id="step-4">step 4</h3>
<p>Click on File &gt; Import new atlas
<img src="/assets/blog/fsleyes_add_atlas/02_fsleyes_import_new_atlas.png" class="image-responsive" /></p>

<h3 id="step-5">step 5</h3>
<p>Navigate to the atlas folder, select <code class="language-plaintext highlighter-rouge">Canine-labels-update.xml</code> file, and click open. Surprisingly, there is no pop-up message that tells you if everything went well, as expected or if there was an error!
<img src="/assets/blog/fsleyes_add_atlas/03_fsleyes_select_atlas_file.png" class="image-responsive" /></p>

<h3 id="step-6">step 6</h3>
<p>Display your atlases by clicking Settings &gt; Ortho View 1 &gt; Atlases.
(shortcut: Cmd + Opt + 6).
<img src="/assets/blog/fsleyes_add_atlas/04_fsleyes_show_atlases.png" class="image-responsive" /></p>

<h3 id="step-7">step 7</h3>
<p>You should now see a section with all of the available atlases.
<img src="/assets/blog/fsleyes_add_atlas/05_fsleyes_display_atlases.png" class="image-responsive" /></p>

<h3 id="step-8">step 8</h3>
<p>Now, load the <code class="language-plaintext highlighter-rouge">Canine_population_template.nii.gz</code> file, either by dragging and dropping it on to the app, or File &gt; Add from file
(shortcut: Cmd + O).
<img src="/assets/blog/fsleyes_add_atlas/06_fsleyes_load_template_brain.png" class="image-responsive" /></p>

<h3 id="step-9">step 9</h3>
<p>Unselect unwanted atlases, and select Canine 30N-Johnson-Barry-Atlas-Labels Update.</p>

<h3 id="step-10">step 10</h3>
<p>If you now click on a brain region that is listed in the atlas, you should see its label.
<img src="/assets/blog/fsleyes_add_atlas/07_fsleyes_select_canine_brain.png" class="image-responsive" /></p>

<h3 id="step-11">step 11</h3>
<p>Clicking on "Show/Hide" option next to the atlas name allows you to visualise various brain regions in different colours.
<img src="/assets/blog/fsleyes_add_atlas/08_fsleyes_click_brain_region.png" class="image-responsive" /></p>

<blockquote>
  <p>Not all of the labeled regions are visualised in this way for some reason. <code class="language-plaintext highlighter-rouge">¯\_(ツ)_/¯</code> <br /> So, let us make use of the <code class="language-plaintext highlighter-rouge">whole_atlas_cortical_subcortical.nii.gz</code> file.</p>
</blockquote>

<h3 id="step-12">step 12</h3>
<p>Load <code class="language-plaintext highlighter-rouge">whole_atlas_cortical_subcortical.nii.gz</code>, the same way you loaded the template brain (shortcut: Cmd + O).</p>

<p><img src="/assets/blog/fsleyes_add_atlas/09_fsleyes_load_atlas_brain.png" class="image-responsive" /></p>

<h3 id="step-13">step 13</h3>
<p>Change colourmap of this file. I recommend using Random or one of the MGH ones.</p>

<p><img src="/assets/blog/fsleyes_add_atlas/10_fsleyes_change_colourmap.png" class="image-responsive" /></p>

<h3 id="step-14">step 14</h3>
<p>This should make it easier to navigate between various regions and visualise their boundaries better.</p>

<p><img src="/assets/blog/fsleyes_add_atlas/11_fsleyes_use_atlas.png" class="image-responsive" /></p>

<h3 id="step-15">step 15</h3>
<p>There is no step 15. Hope everything has worked out. Have fun!</p>

<p>Kindly excuse typos. If anything is unclear, or if you identify an error in this post, feel free to <a href="https://twitter.com/intent/tweet?text=Hey%20%40neuroacademic%2C%20" target="_blank">send me a tweet</a> or <a href="mailto:vijayakumar.suhas@gmail.com">an email</a>.</p>

    </article>
  </div>
</div>

  </div>

  <footer class="mb-2">
  <div class="container">
    <div class="row biography">
      <div class="col-sm-4">
        <h2>who am i</h2>
        <p>I'm currently a post-doc at the <a target='_blank' href=''>Neurostimulation Group</a> in Mainz, Germany. Here are my <a target='_blank' href='https://repository.ubn.ru.nl/bitstream/handle/2066/226799/226799.pdf?sequence=1'>PhD Thesis</a> and my <a href='/assets/resume.pdf'>Résumé</a>. Or go to <a href='/phd_defense'>PhD defense</a> page to know more about that and see my thesis cover page.</p>
      </div>
      <div class="col-sm-4">
        <h2>what is this</h2>
        <p>This? <br> This is my home on the internet. Views expressed in this corner of the internet are my own, and do not necessarily reflect the views or opinions of anyone else.</p>
      </div>
      <div class="col-sm-4">
        <h2>Thanks to</h2>
        <p>This site is based on <a target='_blank' href='https://github.com/hugoferreira/papyrus-theme'>Papyrus theme</a>, by Prof. Dr. Hugo Sereno Ferreira, and his blog.</p>
      </div>
    </div>
    
    <div class="row copyright text-center">
      <div class="col-sm-12">© 2023 by Suhas Vijayakumar.<br>Content available under <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/'>Creative Commons (BY-NC-SA)</a> unless otherwise noted.<br>This site is hosted at <a href='https://pages.github.com/'>Github Pages</a> and created with <a href='http://jekyllrb.com/'>Jekyll</a>.</div>
    </div>
    
  </div>
</footer>


</body>
